---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/hero/Hero.astro";
import BoxReveal from "../components/ui/box-reveal";
import Button from "@/components/ui/Button";
import TimelineLife from "../components/timeline/TimelineLife";
import LifeGuard from "../components/game/LifeGuard";
import { getPortfolioData } from "../utils/data";

const { life } = await getPortfolioData();
const lifeHighlight = life.filter((item) => item.highlighted === true);
const sortedLife = lifeHighlight.sort((a, b) => parseInt(a.year) - parseInt(b.year));
---

<LifeGuard client:load />
<Layout title="Life Journey" description="Personal milestones and life timeline of Ehsan Pourhadi">
	<Hero fullHeight title="Life Journey" img="/img/life/ep.jpg">
		<div>
			<BoxReveal boxColor="bg-secondary-500" duration={0.1} delay={0.2} client:load>
				<p class="mb-5 text-2xl dark:text-gray-300">
					From Tehran to Malm√∂ - A journey of growth, learning, and memorable moments.
				</p>
			</BoxReveal>
			<BoxReveal boxColor="bg-primary-500" duration={0.5} delay={0.2} client:load>
				<p class="text-xl dark:text-gray-300">
					Every milestone tells a story. Here's a glimpse into the personal moments that shaped who
					I am today.
				</p>
			</BoxReveal>
			<BoxReveal boxColor="bg-primary-500" duration={0.6} delay={0.3} client:load>
				<div>
					<Button href="/about" className="mt-3" text="Professional Journey" client:load />
					<Button href="/contact" className="mt-3" text="Get in Touch" client:load />
				</div>
			</BoxReveal>
		</div>
	</Hero>

	<section class="container mx-auto px-4 py-20">
		<div class="mb-16 text-center">
			<h2 class="mb-4 text-4xl font-bold md:text-5xl">Timeline of My Life</h2>
			<p class="mx-auto max-w-2xl text-xl text-gray-600 dark:text-gray-400">
				Personal milestones, achievements, and memorable moments that defined my journey
			</p>
		</div>
	</section>

	<TimelineLife lifeData={sortedLife} client:load />

	<section class="bg-opium py-20 dark:bg-neutral-800">
		<div class="container mx-auto px-4 text-center">
			<h2 class="mb-6 text-3xl font-bold md:text-4xl">Want to Know More?</h2>
			<p class="mx-auto mb-8 max-w-2xl text-xl text-gray-600 dark:text-gray-400">
				Check out my professional journey and the work I've done over the years.
			</p>
			<div class="flex flex-wrap justify-center gap-4">
				<Button href="/about" text="About Me" client:load />
				<Button href="/portfolio" text="View My Work" client:load />
			</div>
		</div>
	</section>
</Layout>

<style>
	section {
		position: relative;
	}
</style>
