---
import MainNav from "./nav/MainNav.astro";
import Toggle from "./Toggle.tsx";
import HamburgerMenu from "./ui/Menu";
---

<svg color-interpolation-filters="sRGB" style="display:none">
  <defs>
    <filter id="mixed-ui-player-filter">
      <feGaussianBlur
        in="SourceGraphic"
        stdDeviation="2"
        result="blurred_source"
      >
      </feGaussianBlur>
      <feImage
        href="/assets/displacement-map-yr2eh1.png"
        x="0"
        y="0"
        width="1200"
        height="60"
        result="displacement_map"
      >
      </feImage>
      <feDisplacementMap
        in="blurred_source"
        in2="displacement_map"
        scale="20"
        xChannelSelector="R"
        yChannelSelector="G"
        result="displaced"
      >
      </feDisplacementMap>
      <feColorMatrix
        in="displaced"
        type="saturate"
        result="displaced_saturated"
        values="5"
      >
      </feColorMatrix>
      <feImage
        href="/assets/specular-map-ivknpp.png"
        x="0"
        y="0"
        width="1200"
        height="80"
        result="specular_layer"
      >
      </feImage>
      <feComposite
        in="displaced_saturated"
        in2="specular_layer"
        operator="in"
        result="specular_saturated"
      >
      </feComposite>
      <feComponentTransfer in="specular_layer" result="specular_faded">
        <feFuncA type="linear" slope="0.9"></feFuncA>
      </feComponentTransfer>
      <feBlend
        in="specular_saturated"
        in2="displaced"
        mode="normal"
        result="withSaturation"
      >
      </feBlend>
      <feBlend in="specular_faded" in2="withSaturation" mode="normal"></feBlend>
    </filter>
  </defs>
</svg>

<header class="fixed clip4 w-full top-0 z-50 overflow-hidden">
  <div
    class="absolute inset-0 bg-[var(--glass-rgb)]/[var(--glass-bg-alpha)] bg-white/80 dark:bg-neutral-900/80"
    style="
      backdrop-filter: url('#mixed-ui-player-filter');
      box-shadow: rgba(0, 0, 0, 0.4) 0px 4px 19px;
      --glass-bg-alpha: 60%;
    "
  >
  </div>

  <div class="container mx-auto px-4 relative z-10">
    <nav class="flex items-center justify-center h-16">
      <a
        href="/"
        class="fixed text-2xl left-4 top-3 font-bold font-basement gradient-text-inv"
      >
        <!-- <img src="/img/logo.svg" alt="Logo" class="w-8 h-8" /> -->
        <svg
          width="36px"
          class="w-8 h-8 text-primary-500"
          data-rellax-speed="-7"
          version="1.1"
          id=""
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 27.8 26.7"
          style="transform: translate3d(0px, 0px, 0px);"
          xml:space="preserve"
          ><path
            fill="currentColor"
            class="st1"
            d="M0.5,19.4C0.2,19,0,18.7,0,18.2c0-0.4,0.2-0.8,0.5-1.1L17.1,0.5C17.4,0.2,17.8,0,18.2,0c0.4,0,0.8,0.2,1.1,0.5
          c0.3,0.3,0.5,0.7,0.5,1.1c0,0.4-0.2,0.8-0.5,1.1L2.7,19.4c-0.3,0.3-0.7,0.5-1.1,0.5C1.2,19.8,0.8,19.7,0.5,19.4z M12.4,25.6
          c-0.3,0.3-0.8,0.6-1.3,0.8s-1,0.3-1.5,0.3c-0.5,0-1.1-0.1-1.6-0.3c-0.5-0.2-1.1-0.5-1.5-1l-2.1-2.1c-0.4-0.4-0.6-0.8-0.5-1.2
          c0.1-0.4,0.4-0.8,0.9-1.3L20.6,5c0.3-0.3,0.7-0.5,1.1-0.5c0.4,0,0.8,0.2,1.1,0.5c0.3,0.3,0.5,0.7,0.5,1.1c0,0.4-0.2,0.8-0.5,1.1
          l-15,15L9,23.4c0.2,0.2,0.4,0.2,0.6,0.2c0.2,0,0.5-0.1,0.7-0.4L25.1,8.4C25.4,8.1,25.8,8,26.2,8c0.4,0,0.8,0.2,1.1,0.5
          c0.3,0.3,0.5,0.7,0.5,1.1c0,0.4-0.2,0.8-0.5,1.1L12.4,25.6z"
          ></path></svg
        >
      </a>
      <MainNav />
      <HamburgerMenu client:load />
      <Toggle client:load />
    </nav>
  </div>
</header>
