import{j as h}from"./jsx-runtime.C51r_xpA.js";import{R as g,r as S}from"./index.BoyW3vH1.js";/* empty css                        */function V(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function q(t,a){for(var r=0;r<a.length;r++){var e=a[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function I(t,a,r){return q(t.prototype,a),t}function $(t,a,r){return a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function T(){return T=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},T.apply(this,arguments)}function G(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a&&M(t,a)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_(t)}function M(t,a){return M=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},M(t,a)}function A(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,a){return a&&(typeof a=="object"||typeof a=="function")?a:A(t)}function w(t,a){return Y(t)||B(t,a)||U()}function Y(t){if(Array.isArray(t))return t}function B(t,a){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var r=[],e=!0,n=!1,s=void 0;try{for(var l=t[Symbol.iterator](),c;!(e=(c=l.next()).done)&&(r.push(c.value),!(a&&r.length===a));e=!0);}catch(u){n=!0,s=u}finally{try{!e&&l.return!=null&&l.return()}finally{if(n)throw s}}return r}}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function J(t,a){return a={exports:{}},t(a,a.exports),a.exports}var Z="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K=Z;function N(){}function j(){}j.resetWarningCache=N;var Q=function(){function t(e,n,s,l,c,u){if(u!==K){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function a(){return t}var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:a,element:t,elementType:t,instanceOf:a,node:t,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:j,resetWarningCache:N};return r.PropTypes=r,r},o=J(function(t){t.exports=Q()});function X(t,a){if(t.length!==a.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==a[r])return!1;return!0}function ee(t,a){a===void 0&&(a=X);var r,e=[],n,s=!1;function l(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return s&&r===this&&a(c,e)||(n=t.apply(this,c),s=!0,r=this,e=c),n}return l}var F=24*60*60*1e3,m=7,te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re=["","Mon","","Wed","","Fri",""];function x(t,a){var r=new Date(t);return r.setDate(r.getDate()+a),r}function ae(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function E(t){return t instanceof Date?t:new Date(t)}function ne(t){return x(new Date,-t)}function C(t){for(var a=[],r=0;r<t;r+=1)a.push(r);return a}var y=10,O=4,v="react-calendar-heatmap-",z=function(t){G(a,t);function a(){var r,e;V(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=H(this,(r=_(a)).call.apply(r,[this].concat(s))),$(A(e),"getValueCache",ee(function(c){return c.values.reduce(function(u,f){var p=E(f.date),d=Math.floor((p-e.getStartDateWithEmptyDays())/F);return u[d]={value:f,className:e.props.classForValue(f),title:e.props.titleForValue?e.props.titleForValue(f):null,tooltipDataAttrs:e.getTooltipDataAttrsForValue(f)},u},{})})),e}return I(a,[{key:"getDateDifferenceInDays",value:function(){var e=this.props,n=e.startDate,s=e.numDays;if(s)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),s;var l=this.getEndDate()-E(n);return Math.ceil(l/F)}},{key:"getSquareSizeWithGutter",value:function(){return y+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?y+O:2*(y+O):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:y*1.5:0}},{key:"getStartDate",value:function(){return x(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){return ae(E(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return x(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return m-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var e=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(e/m)}},{key:"getWeekWidth",value:function(){return m*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].value:null}},{key:"getClassNameForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(e){var n=this.props.tooltipDataAttrs;return typeof n=="function"?n(e):n}},{key:"getTransformForWeek",value:function(e){return this.props.horizontal?"translate(".concat(e*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(e*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(y,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+O,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(e){return this.props.horizontal?[0,e*this.getSquareSizeWithGutter()]:[e*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(e){return this.props.horizontal?[0,(e+1)*y+e*this.props.gutterSize]:[e*y+e*this.props.gutterSize,y]}},{key:"getMonthLabelCoordinates",value:function(e){if(this.props.horizontal)return[e*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-O];var n=-2;return[0,(e+1)*this.getSquareSizeWithGutter()+n]}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"handleMouseOver",value:function(e,n){this.props.onMouseOver&&this.props.onMouseOver(e,n)}},{key:"handleMouseLeave",value:function(e,n){this.props.onMouseLeave&&this.props.onMouseLeave(e,n)}},{key:"renderSquare",value:function(e,n){var s=this,l=n<this.getNumEmptyDaysAtStart()||n>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(l&&!this.props.showOutOfRangeDays)return null;var c=this.getSquareCoordinates(e),u=w(c,2),f=u[0],p=u[1],d=this.getValueForIndex(n),W=g.createElement("rect",T({key:n,width:y,height:y,x:f,y:p,className:this.getClassNameForIndex(n),onClick:function(){return s.handleClick(d)},onMouseOver:function(D){return s.handleMouseOver(D,d)},onMouseLeave:function(D){return s.handleMouseLeave(D,d)}},this.getTooltipDataAttrsForIndex(n)),g.createElement("title",null,this.getTitleForIndex(n))),L=this.props.transformDayElement;return L?L(W,d,n):W}},{key:"renderWeek",value:function(e){var n=this;return g.createElement("g",{key:e,transform:this.getTransformForWeek(e),className:"".concat(v,"week")},C(m).map(function(s){return n.renderSquare(s,e*m+s)}))}},{key:"renderAllWeeks",value:function(){var e=this;return C(this.getWeekCount()).map(function(n){return e.renderWeek(n)})}},{key:"renderMonthLabels",value:function(){var e=this;if(!this.props.showMonthLabels)return null;var n=C(this.getWeekCount()-1);return n.map(function(s){var l=x(e.getStartDateWithEmptyDays(),(s+1)*m),c=e.getMonthLabelCoordinates(s),u=w(c,2),f=u[0],p=u[1];return l.getDate()>=1&&l.getDate()<=m?g.createElement("text",{key:s,x:f,y:p,className:"".concat(v,"month-label")},e.props.monthLabels[l.getMonth()]):null})}},{key:"renderWeekdayLabels",value:function(){var e=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(n,s){var l=e.getWeekdayLabelCoordinates(s),c=w(l,2),u=c[0],f=c[1],p="".concat(e.props.horizontal?"":"".concat(v,"small-text")," ").concat(v,"weekday-label");return s&1?g.createElement("text",{key:"".concat(u).concat(f),x:u,y:f,className:p},n):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),g.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},g.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(v,"month-labels")},this.renderMonthLabels()),g.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(v,"all-weeks")},this.renderAllWeeks()),g.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(v,"weekday-labels")},this.renderWeekdayLabels()))}}]),a}(g.Component);z.propTypes={values:o.arrayOf(o.shape({date:o.oneOfType([o.string,o.number,o.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:o.number,startDate:o.oneOfType([o.string,o.number,o.instanceOf(Date)]),endDate:o.oneOfType([o.string,o.number,o.instanceOf(Date)]),gutterSize:o.number,horizontal:o.bool,showMonthLabels:o.bool,showWeekdayLabels:o.bool,showOutOfRangeDays:o.bool,tooltipDataAttrs:o.oneOfType([o.object,o.func]),titleForValue:o.func,classForValue:o.func,monthLabels:o.arrayOf(o.string),weekdayLabels:o.arrayOf(o.string),onClick:o.func,onMouseOver:o.func,onMouseLeave:o.func,transformDayElement:o.func};z.defaultProps={numDays:null,startDate:ne(200),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(a){return a?"color-filled":"color-empty"},monthLabels:te,weekdayLabels:re,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};const le=({username:t="ehsanpo",defaultYear:a=new Date().getFullYear(),className:r=""})=>{const[e,n]=S.useState(a),[s,l]=S.useState(null),[c,u]=S.useState(!1),[f,p]=S.useState(null),d=async i=>{u(!0),p(null);try{const b=await fetch(`https://github-contributions-api.jogruber.de/v4/${t}?y=${i}`);if(!b.ok)throw new Error(`Failed to fetch contributions: ${b.statusText}`);const P=await b.json();l(P)}catch(b){p(b instanceof Error?b.message:"An error occurred"),l(null)}finally{u(!1)}};S.useEffect(()=>{d(e)},[e,t]);const W=i=>{n(parseInt(i.target.value))},L=new Date().getFullYear(),k=[];for(let i=2008;i<=L;i++)k.push(i);const D=s?.contributions.map(i=>({date:i.date,count:i.count}))||[],R=s?.total[e.toString()]||0;return h.jsxs("div",{className:`github-contributions min-h-60 ${r}`,children:[h.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"GitHub Contributions"}),s&&!c&&h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[R," contributions in ",e]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Year:"}),h.jsx("select",{id:"year-select",value:e,onChange:W,disabled:c,className:"rounded-md border border-gray-300 bg-white px-3 py-1 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",children:k.reverse().map(i=>h.jsx("option",{value:i,children:i},i))})]})]}),h.jsxs("div",{className:"relative",children:[c&&h.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-white/50 dark:bg-gray-900/50",children:h.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[h.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]})}),f&&h.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 dark:border-red-700 dark:bg-red-900/20",children:h.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Error loading contributions: ",f]})}),s&&!c&&!f&&h.jsxs("div",{className:"w-full overflow-x-auto",children:[h.jsx("style",{children:`
							.react-calendar-heatmap {
								width: 100% !important;
								min-width: 700px;
							}
							.react-calendar-heatmap .react-calendar-heatmap-month-label {
								font-size: 12px;
								fill: #666;
							}
							.react-calendar-heatmap .react-calendar-heatmap-weekday-label {
								font-size: 10px;
								fill: #666;
							}
							.react-calendar-heatmap .color-empty {
								fill: #ebedf0;
							}
							.react-calendar-heatmap .color-scale-1 {
								fill: #a3d5e8;
							}
							.react-calendar-heatmap .color-scale-2 {
								fill: #6bc4e0;
							}
							.react-calendar-heatmap .color-scale-3 {
								fill: #03aad7;
							}
							.react-calendar-heatmap .color-scale-4 {
								fill: #027ba1;
							}
							@media (prefers-color-scheme: dark) {
								.react-calendar-heatmap .react-calendar-heatmap-month-label {
									fill: #ccc;
								}
								.react-calendar-heatmap .react-calendar-heatmap-weekday-label {
									fill: #ccc;
								}
								.react-calendar-heatmap .color-empty {
									fill: #374151;
								}
							}
						`}),h.jsx(z,{startDate:new Date(`${e}-01-01`),endDate:new Date(`${e}-12-31`),values:D,classForValue:i=>!i||i.count===0?"color-empty":i.count>=1&&i.count<=3?"color-scale-1":i.count>=4&&i.count<=6?"color-scale-2":i.count>=7&&i.count<=9?"color-scale-3":"color-scale-4",showWeekdayLabels:!0,onClick:i=>{i&&console.log(`${i.count} contributions on ${i.date}`)}})]})]})]})};export{le as default};
