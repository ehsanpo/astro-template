import{j as h}from"./jsx-runtime.C51r_xpA.js";import{r as u}from"./index.BoyW3vH1.js";import{a as E,s as g,i as p,u as w,b as I,m as v}from"./motion.D2zQmLs4.js";function x(t,n,r){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}function C(t){t.values.forEach(n=>n.stop())}function y(){let t=!1;const n=new Set,r={subscribe(e){return n.add(e),()=>void n.delete(e)},start(e,s){p(t,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");const i=[];return n.forEach(o=>{i.push(E(o,e,{transitionOverride:s}))}),Promise.all(i)},set(e){return p(t,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),n.forEach(s=>{g(s,e)})},stop(){n.forEach(e=>{C(e)})},mount(){return t=!0,()=>{t=!1,r.stop()}}};return r}function V(){const t=w(y);return I(t.mount,[]),t}const b=V,j={some:0,all:1};function A(t,n,{root:r,margin:e,amount:s="some"}={}){const i=x(t),o=new WeakMap,l=f=>{f.forEach(c=>{const d=o.get(c.target);if(c.isIntersecting!==!!d)if(c.isIntersecting){const m=n(c);typeof m=="function"?o.set(c.target,m):a.unobserve(c.target)}else d&&(d(c),o.delete(c.target))})},a=new IntersectionObserver(l,{root:r,rootMargin:e,threshold:typeof s=="number"?s:j[s]});return i.forEach(f=>a.observe(f)),()=>a.disconnect()}function k(t,{root:n,margin:r,amount:e,once:s=!1}={}){const[i,o]=u.useState(!1);return u.useEffect(()=>{if(!t.current||s&&i)return;const l=()=>(o(!0),s?void 0:()=>o(!1)),a={root:n&&n.current||void 0,margin:r,amount:e};return A(t.current,l,a)},[n,t,r,s,e]),i}const M=({children:t,width:n="fit-content",boxColor:r,duration:e,delay:s=0})=>{const i=b(),o=b(),l=u.useRef(null),a=k(l,{once:!0});return u.useEffect(()=>{a?(o.start("visible"),i.start("visible")):(o.start("hidden"),i.start("hidden"))},[a,i,o]),h.jsxs("div",{ref:l,style:{position:"relative",width:n,overflow:"hidden"},children:[h.jsx(v.div,{variants:{hidden:{opacity:0,y:75},visible:{opacity:1,y:0}},initial:"hidden",animate:i,transition:{duration:e||.5,delay:s+.25},style:{height:"100%"},children:t}),h.jsx(v.div,{variants:{hidden:{left:0},visible:{left:"100%"}},initial:"hidden",animate:o,transition:{duration:e||.5,ease:"easeIn",delay:s},className:r,style:{position:"absolute",top:4,bottom:4,left:0,right:0,zIndex:20}})]})};export{M as default};
